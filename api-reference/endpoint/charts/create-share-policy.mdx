---
title: "Create Chart Share Policy"
api: "POST /project/{project_id}/chart/{id}/share/policy"
description: "Create a share policy for a chart to enable secure embedding with signed URLs"
---

This endpoint creates a new SharePolicy for a chart, which enables advanced sharing and embedding features including:
- Signed URL generation with expiration dates
- Parameter passing to chart variables
- Control over URL parameter allowance
- Enhanced security for embedded charts

## Parameters

<ParamField path="project_id" type="string" required>
  The ID of the project containing the chart
</ParamField>

<ParamField path="id" type="string" required>
  The ID of the chart
</ParamField>

## Response

<ResponseField name="id" type="integer">
  The unique identifier of the created share policy
</ResponseField>

<ResponseField name="entity_type" type="string">
  The type of entity this policy applies to (always "Chart" for charts)
</ResponseField>

<ResponseField name="entity_id" type="integer">
  The ID of the chart this policy applies to
</ResponseField>

<ResponseField name="visibility" type="string">
  The visibility setting for the share policy:
  - `public`: Anyone can view
  - `private`: Can be viewed with signed URL
  - `password`: Anyone can view with a password
  - `disabled`: The share policy is disabled
</ResponseField>

<ResponseField name="params" type="array">
  Array of parameter objects that will be passed to chart variables
  <Expandable title="Parameter Object">
    <ResponseField name="key" type="string">
      The parameter name/key
    </ResponseField>
    <ResponseField name="value" type="string">
      The parameter value
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="allow_params" type="boolean">
  Whether to allow parameters to be passed via URL query parameters
</ResponseField>

<ResponseField name="password" type="string">
  Password for password-protected sharing (if applicable)
</ResponseField>

<ResponseField name="createdAt" type="string">
  ISO 8601 timestamp of when the share policy was created
</ResponseField>

<ResponseField name="updatedAt" type="string">
  ISO 8601 timestamp of when the share policy was last updated
</ResponseField>

## Example

<RequestExample>
```bash cURL
curl -X POST \
  'https://api.chartbrew.com/project/123/chart/456/share/policy' \
  -H 'Authorization: Bearer YOUR_API_TOKEN' \
  -H 'Content-Type: application/json'
```
</RequestExample>

<ResponseExample>
```json Response
{
  "id": 2,
  "entity_type": "Chart",
  "entity_id": 456,
  "visibility": "private",
  "params": [],
  "allow_params": false,
  "password": null,
  "createdAt": "2024-01-15T10:30:00.000Z",
  "updatedAt": "2024-01-15T10:30:00.000Z"
}
```
</ResponseExample>
